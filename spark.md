# spark

## 02. 스파크의 기초

### RDD의 개념

- 불변성(immutable) : 읽기 전용
- 복원성(resilient) : 장애 내성
- 분산(distributed) : 노드 한 개 이상에 저장된 데이터 셋
- RDD는 데이터를 조작할 수 있는 다양한 변환 연산자를 제공하지만, 변환 연산자는 항상 새로운 

RDD 객체를 생성한다.

- **변환 연산자** : RDD의 데이터를 조작해 새로운 RDD를 생성한다.(filter나 map함수)
- **행동 연산자** : 연산자를 호출한 프로그램으로 계산 결과를 반환하거나 RDD 요소에 특정 작업을 수행하려고 실제 계산을 시작하는 역할(count, foreach 함수)



#### 변환 연산자

1. **map**
   - map함수는 또 다른 함수를 인자를 받아 RDD 하나를 반환한다.
   - map함수가 반환하는 RDD는 map함수가 호출된 RDD와는 다른 타입의 요소로 구성될 수 있다.
2. **flatMap**
   - 변환 연산자가 반환한 여러 배열의 모든 요소를 단일 배열로 통합
3. **distinct**
   - 중복 제거
4. **sample**
   - 무작위로 샘플 데이터 셋을 추출해 준다.
   - 첫번째 인자로 같은 요소가 여러 번 샘플링 될 수 있는지 지정
     - false면 한 번 샘플링된 요소는 메서드 호출이 끝날 때까지 다음 샘플링 대상에서 제외
   - 두번째 인자로 각 요소가 샘플링될 횟수의 기댓값(0 ~ 1사이) 몇 %를 추출할지

5. **takesample**

6. **take**

   

## 스파크 API 깊이 파헤치기

### Pair RDD

- 스파크에서는 키-값 쌍(또는 키-값 튜플)으로 구성된 RDD를 Pair RDD라고 한다.